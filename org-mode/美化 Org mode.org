#+TITLE: ç¾åŒ– Org mode
#+URL: https://mstempl.netlify.com/post/beautify-org-mode/
#+AUTHOR: lujun9972
#+TAGS: org-mode
#+DATE: [2020å¹´ 02æœˆ 19æ—¥ æ˜ŸæœŸä¸‰ 09:51:52 HKT]
#+LANGUAGE:  zh-CN
#+OPTIONS:  H:6 num:nil toc:t n:nil ::t |:t ^:nil -:nil f:t *:t <:nil
åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘æ”¶é›†äº†ä¸€äº›è½¯ä»¶åŒ…å’Œè®¾ç½®æ¥ç¾åŒ–Orgç¼“å†²åŒºï¼Œå…¶ä¸­å¤§éƒ¨åˆ†æ˜¯é€šè¿‡UnicodeæŠ€å·§æ¥å®ç°çš„ã€‚ æˆ‘è§‰å¾—è¿™ä¸ªç»“æœæŒºä¸é”™çš„ï¼Œæƒ³è¦åˆ†äº«å‡ºæ¥ï¼Œå› ä¸ºå®ƒå¯èƒ½å¯¹åˆ«äººä¹Ÿæœ‰ç”¨ã€‚ä»¥ä¸‹æ˜¯æˆ‘è®¾ç½®åŠå…¶ç›¸å…³è§£é‡Šã€‚ä¸æˆ‘çš„å…¶ä»–Emacsé…ç½®ä¸€æ ·ï¼Œå®ƒä½¿ç”¨ =use-package=.

é»˜è®¤çš„å­—ä½“è®¾ç½®ç¡®ä¿å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰unicodeåŠç±»ä¼¼çš„ç¬¦å·ã€‚è¿™ä¹Ÿæ˜¯åé¢è¿™äº›æµ®å¤¸ä¹‹ç‰©çš„åŸºç¡€ã€‚
é¦–å…ˆ,æˆ‘æ£€æŸ¥Symbolaå­—ä½“æ˜¯å¦å­˜åœ¨ã€‚

#+begin_src emacs-lisp
  (when (member "Symbola" (font-family-list))
    (set-fontset-font "fontset-default" nil
                      (font-spec :size 20 :name "Symbola")))
#+end_src

æˆ‘è¿˜æŒ‡å®šSymbolaä½œä¸ºæ‰€æœ‰unicodeå­—ç¬¦çš„å­—ä½“

#+begin_src emacs-lisp
  (when (member "Symbola" (font-family-list))
    (set-fontset-font t 'unicode "Symbola" nil 'prepend))
#+end_src

æˆ‘åœ¨æ‰€æœ‰åœ°æ–¹éƒ½ä½¿ç”¨utf8ç¼–ç ï¼Œå¹¶æ˜¾å¼åœ°è®¾ç½®å®ƒï¼Œè€Œä¸ä¾èµ–äºEmacsé»˜è®¤å€¼

#+begin_src emacs-lisp
  (prefer-coding-system 'utf-8)
  (set-default-coding-systems 'utf-8)
  (set-terminal-coding-system 'utf-8)
  (set-keyboard-coding-system 'utf-8)
  (setq default-buffer-file-coding-system 'utf-8)
#+end_src

ç°åœ¨è½¬åˆ°Orgæ¨¡å¼çš„è®¾ç½®ã€‚

æˆ‘è¦ç¼©è¿›

#+begin_src emacs-lisp
  (setq org-startup-indented t
        org-src-tab-acts-natively t)
#+end_src

I like =visual-pitch-mode= and =visual-line-mode= for org files
æˆ‘å–œæ¬¢ä¸ºorgæ–‡ä»¶å¼€å¯ =visual-pitch-mode= å’Œ =visual-line-mode=

#+begin_src emacs-lisp
  (add-hook 'org-mode-hook
            (lambda ()
              (variable-pitch-mode 1)
              visual-line-mode))
#+end_src

å¼€å§‹è®¾ç½®Orgæ¨¡å¼ç¼“å†²åŒºçš„å¤–è§‚ï¼Œé¦–å…ˆè®©æˆ‘ä»¬åšä¸€äº›ä¸€èˆ¬è®¾ç½®:

- ä¸è¦æ˜¾ç¤ºå¼ºè°ƒæ ‡è®°
- å¦‚æœæ ‡é¢˜è¢«æ ‡è®°ä¸ºDONEï¼Œåˆ™æ›´æ”¹æ ‡é¢˜çš„å¤–è§‚
- éšè—æ ‡é¢˜å‰çš„æ˜Ÿæ˜Ÿ
- ä½¿ç”¨UTF8å­—ç¬¦æ˜¾ç¤ºå®ä½“ã€‚
- åªä½¿ç”¨å¥‡æ•°çº§åˆ«

æˆ‘è§‰å¾—è¿™æ ·ä¼šä½¿ç¼“å†²åŒºçœ‹èµ·æ¥æ›´æ•´æ´ã€‚

#+begin_src emacs-lisp
  (setq org-hide-emphasis-markers t
        org-fontify-done-headline t
        org-hide-leading-stars t
        org-pretty-entities t
        org-odd-levels-only t)
#+end_src

ä¸‹ä¸€æ­¥æ˜¯è®¾ç½®è‡ªåŠ¨æ›´æ”¹åˆ—è¡¨é¡¹ã€‚æˆ‘ç»å¸¸ä½¿ç”¨é¡¹ç›®ç¬¦å·åˆ—è¡¨ï¼Œæˆ‘è®¤ä¸ºå®ƒèƒ½æ›´å¥½åœ°çªå‡ºç»“æ„ã€‚

#+begin_src emacs-lisp
  (setq org-list-demote-modify-bullet
        (quote (("+" . "-")
                ("-" . "+")
                ("*" . "-")
                ("1." . "-")
                ("1)" . "-")
                ("A)" . "-")
                ("B)" . "-")
                ("a)" . "-")
                ("b)" . "-")
                ("A." . "-")
                ("B." . "-")
                ("a." . "-")
                ("b." . "-"))))
#+end_src

è¿™æ˜¯ç¬¬ä¸€ä¸ªå°†æ ‡é¢˜å‰çš„æ˜Ÿæ˜Ÿè½¬æ¢æˆæ¼‚äº®ç¬¦å·çš„ç¨‹åºåŒ…ã€‚å› ä¸ºæˆ‘åªä½¿ç”¨å¥‡æ•°çº§åˆ«ï¼Œæ‰€ä»¥æˆ‘ä¸ºæ‰€æœ‰å¶æ•°çº§åˆ«è®¾ç½®äº†åŒä¸€ä¸ªç‰¹å®šçš„ç¬¦å·ã€‚

#+begin_src emacs-lisp
  (use-package org-bullets
    :custom
    (org-bullets-bullet-list '("â—‰" "â˜¯" "â—‹" "â˜¯" "âœ¸" "â˜¯" "âœ¿" "â˜¯" "âœœ" "â˜¯" "â—†" "â˜¯" "â–¶"))
    (org-ellipsis "â¤µ")
    :hook (org-mode . org-bullets-mode))
#+end_src

ä»[[https://zzamboni.org/post/beautifying-org-mode-in-emacs/]] ä¸­æˆ‘æ”¶é›†äº†è¿™äº›è®¾ç½®æ¥è®©ç¬¦å·åˆ—è¡¨æ˜¾ç¤ºè¿™äº›æ¼‚äº®ç¬¦å·è€Œä¸æ˜¯ä¸€ä¸ªç ´æŠ˜å·ã€‚

#+begin_src emacs-lisp
  (font-lock-add-keywords 'org-mode
                          '(("^ *\([-]\) "
                             (0 (prog1 () (compose-region (match-beginning 1) (match-end 1) "â€¢"))))))
  (font-lock-add-keywords 'org-mode
                          '(("^ *\([+]\) "
                             (0 (prog1 () (compose-region (match-beginning 1) (match-end 1) "â—¦"))))))
#+end_src

ä¸‹ä¸€æ­¥æ˜¯ç¾åŒ–srcå—ã€‚å— [[https://www.reddit.com/r/emacs/comments/9lpupc/i%5Fuse%5Fmarkdown%5Frather%5Fthan%5Forgmode%5Ffor%5Fmy%5Fnotes/][i use markdown rather than org-mode for my notes : emacs]] è¿™ç¯‡æ–‡ç« çš„å¯å‘ï¼Œæˆ‘å‘ç°äº†å†…ç½®çš„ =prettify-symbols-mode=.
å…¶é…ç½®éµå¾ª  [[http://endlessparentheses.com/new-in-emacs-25-1-have-prettify-symbols-mode-reveal-the-symbol-at-point.html][New in Emacs 25.1: Have prettify-symbols-mode reveal the symbol at point Â· En...]] ä¸­çš„ç¤ºä¾‹ã€‚
è¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥æä¾›æŸç§ç¨‹åº¦çš„ç¾åŒ–

#+begin_src emacs-lisp
  (setq-default prettify-symbols-alist '(("#+BEGIN_SRC" . "â€ ")
                                         ("#+END_SRC" . "â€ ")
                                         ("#+begin_src" . "â€ ")
                                         ("#+end_src" . "â€ ")
                                         (">=" . "â‰¥")
                                         ("=>" . "â‡¨")))
  (setq prettify-symbols-unprettify-at-point 'right-edge)
  (add-hook 'org-mode-hook 'prettify-symbols-mode)
#+end_src

å°½ç®¡æˆ‘æ›´å–œæ¬¢ =å¯å˜é—´è·= çš„å­ï¼Œ ä½†å¯¹äºä»£ç å—ï¼Œæˆ‘æ›´å€¾å‘ =å›ºå®šé—´è·= çš„å­—ä½“.

#+begin_src emacs-lisp
  (custom-theme-set-faces
   'user
   '(variable-pitch ((t (:family "Source Sans Pro" :height 120 :weight light))))
   '(fixed-pitch ((t ( :family "Consolas" :slant normal :weight normal :height 0.9 :width normal)))))

  (custom-theme-set-faces
   'user
   '(org-block ((t (:inherit fixed-pitch))))
   '(org-document-info-keyword ((t (:inherit (shadow fixed-pitch)))))
   '(org-property-value ((t (:inherit fixed-pitch))) t)
   '(org-special-keyword ((t (:inherit (font-lock-comment-face fixed-pitch)))))
   '(org-tag ((t (:inherit (shadow fixed-pitch) :weight bold))))
   '(org-verbatim ((t (:inherit (shadow fixed-pitch))))))
#+end_src

=pretty-tags= æ˜¯ä¸€ä¸ªç”¨unicodeç¬¦å·æ›¿æ¢æ ‡ç­¾çš„åŒ…ã€‚æ ‡ç­¾çš„åç§°å¿…é¡»ä¸ç¼“å†²åŒºä¸­çš„åç§°å®Œå…¨ç›¸åŒæ‰è¡Œã€‚

#+begin_src emacs-lisp
  (use-package org-pretty-tags
    :demand t
    :config
    (setq org-pretty-tags-surrogate-strings
          (quote
           (("TOPIC" . "â˜†")
            ("PROJEKT" . "ğŸ’¡")
            ("SERVICE" . "âœ")
            ("Blog" . "âœ")
            ("music" . "â™¬")
            ("security" . "ğŸ”¥"))))
    (org-pretty-tags-global-mode))
#+end_src

è¿˜æœ‰ä¸€ä¸ªç¨‹åºåŒ…å¯ä»¥æ˜¾ç¤ºç‰¹åˆ«çš„ä¼˜å…ˆçº§ï¼Œè€Œä¸æ˜¯æ ‡å‡†çš„ä¼˜å…ˆçº§ã€‚

#+begin_src emacs-lisp
  (use-package org-fancy-priorities
    :diminish
    :demand t
    :defines org-fancy-priorities-list
    :hook (org-mode . org-fancy-priorities-mode)
    :config
    (unless (char-displayable-p ?â—)
      (setq org-fancy-priorities-list '("HIGH" "MID" "LOW" "OPTIONAL"))))
#+end_src

æˆ‘å–œæ¬¢åœ¨Orgæ¨¡å¼æ ‡é¢˜ä¸Šæ˜¾ç¤ºå¤§çº²ç¼–å·ã€‚ç¼–å·ä¸å¯¼å‡ºOrgæ–‡ä»¶æ—¶çš„æ˜¾ç¤ºæ–¹å¼ç›¸åŒ¹é…ã€‚è¿™ä¸ªæ–‡ä»¶åœ¨Org modeæ‰€å±çš„git ä»“åº“ä¸­ï¼Œä½†æ˜¯ä¸æ˜¯å®˜æ–¹Org modeçš„ä¸€éƒ¨åˆ†

#+begin_src emacs-lisp
  (use-package org-num
    :load-path "lisp/"
    :after org
    :hook (org-mode . org-num-mode))
#+end_src

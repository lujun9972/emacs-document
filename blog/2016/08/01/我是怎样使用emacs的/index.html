<!DOCTYPE html>
<html lang="en">
<head>
  <title>我是怎样使用Emacs的 - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="http://lujun9972.github.io/emacs-document/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="http://lujun9972.github.io/emacs-document/media/css/comment.css" type="text/css"/>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="http://lujun9972.github.io/emacs-document/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="http://lujun9972.github.io/emacs-document/years/">Years</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/authors/">Authors</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/tags/">Tags</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="http://lujun9972.github.io/emacs-document/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">我是怎样使用Emacs的</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline2">1. My ‘Emacs Workflow’</a>
<ul>
<li><a href="#orgheadline1">1.1. Sidebar</a></li>
</ul>
</li>
<li><a href="#orgheadline5">2. Tools</a>
<ul>
<li><a href="#orgheadline3">2.1. ec</a></li>
<li><a href="#orgheadline4">2.2. et</a></li>
</ul>
</li>
<li><a href="#orgheadline7">3. Github repo</a>
<ul>
<li><a href="#orgheadline6">3.1. Warning</a></li>
</ul>
</li>
<li><a href="#orgheadline8">4. Bonus, executing elisp</a></li>
<li><a href="#orgheadline10">5. Stopping the Daemon</a>
<ul>
<li><a href="#orgheadline9">5.1. es</a></li>
</ul>
</li>
<li><a href="#orgheadline11">6. Wrap up</a></li>
</ul>
</div>
</div>
<p>
一直以来都想写一篇关于我当前Emacs配置的文章来描述我是如何在Mac和Linux上使用Emacs的,即我的Emacs工作流. 我使用这套配置一年多了,一直以来这套配置都工作的很好,几乎不需要怎么调整. 我现在用的是Emacs24,但是这套配置对更早些版本的Emacs也适用.
</p>

<p>
首先,我需要解释一下我是怎么工作的,以及我希望我的Emacs工作流能达到什么效果. 我大多数时候用的都是命令行,随机在终端或者Emacs的eshell中运行. 当然长时间的tail日志或者ssh操作可能导致Emacs崩溃因此这类操作我一般不在eshell中进行.
我之前用过很长一段时间点额vim,我习惯于快速打开一个文件,做一些修改,然后再关闭这个文件. 但是我也确实发现在Emacs中同时打开多个文件也很有用. Emacs daemon似乎能够满足这两种模式,但是我不喜欢在我登录系统或启动Emacs时自动启动该功能.
</p>

<p>
Avdi Grimm 曾经写过 <a href="http://devblog.avdi.org/2011/10/27/running-emacs-as-a-server-emacs-reboot-15/">一篇文章关于他是如何运行Emacs的</a>. 这篇文章給我以启示. 在这之前我不太常用emacsclient. 但随后我发现它的 <code>-a</code> 参数能自动启动daemon,正是我所需要的. Avdi就是使用该脚本来启动emacsclient并创建新frame的.
默认情况下,终端会挂起并等待你关闭Emacs,但是你可以給 <code>ec</code> 脚本(脚本内容在后面)传递 <code>-n</code> 参数,这会使得控制权立刻回到终端.
</p>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2"><span class="section-number-2">1</span> My ‘Emacs Workflow’</h2>
<div class="outline-text-2" id="text-1">
<p>
我的工作流有点与众不同. 当在图形化的Emacs中打开一个文件的时候,我会编辑这个文件但不会去关闭它. 然后我经常会再回到终端去运行命令处理那个新编辑过的文件(rake test或mvn packge). 这意味着终端运行emacsclient后不能一直在那等待emacsclient运行完毕.
若已经有一个图形化的emacs在运行,我希望能在这个emacs中编辑文件而不是重新打开一个新frame. 若有一个图形化的Emacs在运行但是处于最小化状态,则我希望最大化这个emacs然后用它打开文件.
</p>

<p>
对于一下快速编辑的情况,我希望在当前终端用Emacs快速打开文件,做出修改,然后关闭该文件. 这时终端应该等待直到我完成修改.
</p>
</div>

<div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3">1.1</span> Sidebar</h3>
<div class="outline-text-3" id="text-1-1">
<blockquote>
<p>
我在学会magit前都是使用这种快速编辑的方法来提交git commit的. 若你没有用过magit,我强烈推荐你花点时间学习它. 参加 <a href="http://magit.github.io/magit/magit.html"><a href="http://magit.github.io/magit/magit.html">http://magit.github.io/magit/magit.html</a></a>. 这也是为什么我在 <code>~/.bashrc</code> 中添加了 <code>export editor=et</code> 的缘故了.
</p>
</blockquote>
</div>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-2">
<h2 id="orgheadline5"><span class="section-number-2">2</span> Tools</h2>
<div class="outline-text-2" id="text-2">
<p>
最终,我写了两个脚本: <code>ec</code> 和 <code>et</code>. 前一个脚本会在图形化Emacs中打开emacsclient然后将控制权立即交回shell. 后一个会在当前终端打开emacs并等待我完成编辑.
由于两个脚本都是连接的同一个daemon,因此所有打开的文件对两者都是可见的. 两个脚本都会在daemon未启动的情况下自动启动daemon. 
<code>ec</code> 脚本还有一些额外的代码用来实现我工作流中所描述的那样将焦点切换到emacs上. 下面是脚本的内容,我已经加上了注释了.
</p>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">2.1</span> ec</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">!/bin/</span><span style="color: #4f97d7; font-weight: bold;">bash</span><span style="color: #2aa1ae; background-color: #292e34;">                                                                      </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">This script starts emacs daemon if it is not running, opens whatever file      </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">you pass in and changes the focus to emacs.  Without any arguments, it just    </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">opens the current buffer or *scratch* if nothing else is open.  The following  </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">example will open ~/.bashrc                                                    </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">ec ~/.bashrc                                                                   </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">You can also pass it multiple files, it will open them all.  Unbury-buffer     </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">will cycle through those files in order                                        </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">The compliment to the script is et, which opens emacs in the terminal          </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">attached to a daemon                                                           </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">If you want to execute elisp, pass in -e whatever.                             </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">You may also want to stop the output from returning to the terminal, like      </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">ec -e "(message \"Hello\")" &gt; /dev/null                                        </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">emacsclient options for reference                                              </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-a "" starts emacs daemon and reattaches                                       </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-c creates a new frame                                                         </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-n returns control back to the terminal                                        </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-e eval the script                                                             </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">Number of current visible frames,                                              </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">Emacs daemon always has a visible frame called F1                              </span>
<span style="color: #bc6ec5; font-weight: bold;">visible_frames</span><span style="color: #4f97d7;">()</span> <span style="color: #4f97d7;">{</span>                                                               
  emacsclient -a <span style="color: #2d9574;">""</span> -e <span style="color: #2d9574;">'(length (visible-frame-list))'</span>                           
<span style="color: #4f97d7;">}</span>                                                                                

<span style="color: #bc6ec5; font-weight: bold;">change_focus</span><span style="color: #4f97d7;">()</span> <span style="color: #4f97d7;">{</span>                                                                 
  emacsclient -n -e <span style="color: #2d9574;">"(select-frame-set-input-focus (selected-frame))"</span> &gt; /dev/null
<span style="color: #4f97d7;">}</span>                                                                                

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">try switching to the frame incase it is just minimized                         </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">will start a server if not running                                             </span>
<span style="color: #4f97d7;">test</span> <span style="color: #2d9574;">"$(</span><span style="color: #fa8072;">visible_frames</span><span style="color: #2d9574;">)"</span> -eq <span style="color: #2d9574;">"1"</span> &amp;&amp; change_focus                                 

<span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #4f97d7;">[</span> <span style="color: #2d9574;">"$(</span><span style="color: #fa8072;">visible_frames</span><span style="color: #2d9574;">)"</span> -lt  <span style="color: #2d9574;">"2"</span> <span style="color: #4f97d7;">]</span>; <span style="color: #4f97d7; font-weight: bold;">then</span> <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">need to create a frame               </span>
  <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-c $@ with no args just opens the scratch buffer                             </span>
  emacsclient -n -c <span style="color: #2d9574;">"$@"</span> &amp;&amp; change_focus                                         
<span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">there is already a visible frame besides the daemon, so                   </span>
  change_focus                                                                   
  <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-n $@ errors if there are no args                                            </span>
  <span style="color: #4f97d7;">test</span>  <span style="color: #2d9574;">"$#"</span> -ne <span style="color: #2d9574;">"0"</span> &amp;&amp; emacsclient -n <span style="color: #2d9574;">"$@"</span>                                      
<span style="color: #4f97d7; font-weight: bold;">fi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">2.2</span> et</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">!/bin/</span><span style="color: #4f97d7; font-weight: bold;">bash</span><span style="color: #2aa1ae; background-color: #292e34;">                                                          </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">Makes sure emacs daemon is running and opens the file in Emacs in  </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">the terminal.                                                      </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">If you want to execute elisp, use -e whatever, like so             </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">et -e "(message \"Word up\")"                                      </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">You may want to redirect that to /dev/null if you don't want the   </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">return to printed on the terminal.  Also, just echoing a message   </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">may not be visible if Emacs then gives you a message about what    </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">to do when do with the frame                                       </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">The compliment to this script is ec                                </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">Emacsclient option reference                                       </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-a "" starts emacs daemon and reattaches                           </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-t starts in terminal, since I won't be using the gui              </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">can also pass in -n if you want to have the shell return right away</span>

<span style="color: #4f97d7; font-weight: bold;">exec</span> emacsclient -a <span style="color: #2d9574;">""</span> -t <span style="color: #2d9574;">"$@"</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-2">
<h2 id="orgheadline7"><span class="section-number-2">3</span> Github repo</h2>
<div class="outline-text-2" id="text-3">
<p>
可以在<a href="https://github.com/mjwall/dotfiles"><a href="https://github.com/mjwall/dotfiles">https://github.com/mjwall/dotfiles</a></a> 中找到这两个脚本以及在Mac和Linux下安装Emacs的方法. 该仓库存放的其实是我的 <code>~/.emac.d</code> 配置. 我把所有的东西都放在一起,这样便于在新机器上重建配置,也便于在多态机器之间同步配置.
</p>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6"><span class="section-number-3">3.1</span> Warning</h3>
<div class="outline-text-3" id="text-3-1">
<blockquote>
<p>
若你用的是Mac,请务必保证新版本的emacs和emacsclient被放在了正确的路径中. 可以去<a href="https://gist.github.com/mjwall/3fe935a8becb60dd3c4c">gist</a> 上看看我是怎么做的. 当然肯定还有其他更好的实现方式吧.
</p>
</blockquote>
</div>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-2">
<h2 id="orgheadline8"><span class="section-number-2">4</span> Bonus, executing elisp</h2>
<div class="outline-text-2" id="text-4">
<p>
我使用这两个脚本的另一种方式是使用 <code>-e</code> 选项来执行elisp代码. 例如,我就在我的bashrc中为magit设置了一个alias. 由于用到了这两个脚本因此它也能自动启动daemon并自动捕获焦点. 下面是定义alias的方法
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">alias magit='ec -e <span style="color: #2d9574;">"(magit-status \"$(pwd)\")"</span>'
</pre>
</div>

<p>
这样在终端中运行magit就会调用Emacs并在当前目录下运行magit-status了. This was inspired by a similiar tweet somewhere, but takes advantage of the rest of the ec script.
</p>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10"><span class="section-number-2">5</span> Stopping the Daemon</h2>
<div class="outline-text-2" id="text-5">
<p>
最后还有一个脚本用于关闭daemon,这个脚本常用于重新加载emacs配置. 有时我的Mac在关机时会挂起等待Emacs退出,因此我一般都是先手工运行该脚本关闭Emacs. 脚本内容如下:
</p>
</div>

<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="section-number-3">5.1</span> es</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">

<pre class="src src-sh"><span style="color: #2aa1ae; background-color: #292e34;">#</span><span style="color: #2aa1ae; background-color: #292e34;">!/bin/</span><span style="color: #4f97d7; font-weight: bold;">bash</span><span style="color: #2aa1ae; background-color: #292e34;">                                                                  </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">simple script to shutdown the running Emacs daemon                         </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">emacsclient options for reference                                          </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-a Alternate editor, runs bin/false in this case                           </span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">-e eval the script                                                         </span>

<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">If the server-process is bound and the server is in a good state, then kill</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">the server                                                                 </span>

<span style="color: #bc6ec5; font-weight: bold;">server_ok</span><span style="color: #4f97d7;">()</span> <span style="color: #4f97d7;">{</span>                                                                
  emacsclient -a <span style="color: #2d9574;">"false"</span> -e <span style="color: #2d9574;">"(boundp 'server-process)"</span>                       
<span style="color: #4f97d7;">}</span>                                                                            

<span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #4f97d7;">[</span> <span style="color: #2d9574;">"t"</span> == <span style="color: #2d9574;">"$(</span><span style="color: #fa8072;">server_ok</span><span style="color: #2d9574;">)"</span> <span style="color: #4f97d7;">]</span>; <span style="color: #4f97d7; font-weight: bold;">then</span>                                           
  <span style="color: #4f97d7;">echo</span> <span style="color: #2d9574;">"Shutting down Emacs server"</span>                                          
  <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">wasn't removing emacs from ALT-TAB on mac                                </span>
  <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">emacsclient -e "(server-force-delete)"                                   </span>
  emacsclient -e <span style="color: #2d9574;">'(kill-emacs)'</span>                                              
<span style="color: #4f97d7; font-weight: bold;">else</span>                                                                         
  <span style="color: #4f97d7;">echo</span> <span style="color: #2d9574;">"Emacs server not running"</span>                                            
<span style="color: #4f97d7; font-weight: bold;">fi</span>
</pre>
</div>

<p>
似乎有很好的方法能解决Mac关机挂起的问题,但这个问题对我来说不是什么大问题,因此我没有深入这个问题.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-2">
<h2 id="orgheadline11"><span class="section-number-2">6</span> Wrap up</h2>
<div class="outline-text-2" id="text-6">
<p>
若你读到了这里,你可能会想"在shell执行elisp代码真不错啊". 如果你有这个想法,可以看看 <a href="https://github.com/mjwall/dotfiles/blob/master/bin/ed.el"><a href="https://github.com/mjwall/dotfiles/blob/master/bin/ed.el">https://github.com/mjwall/dotfiles/blob/master/bin/ed.el</a></a>, 你会看到下面这样的实现方式
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">#!/usr/bin/env emacs --script 
<span style="color: #4f97d7;">(</span>print <span style="color: #2d9574;">"Hi mike"</span><span style="color: #4f97d7;">)</span>             
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">server</span><span style="color: #4f97d7;">)</span>             
<span style="color: #4f97d7;">(</span>print <span style="color: #bc6ec5;">(</span>server-running-p<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
想象一下吧. 借助这种能力,你可以遍历一个git仓库,将其源代码中的所有tab都替换成空格. 这样做可能没什么意义,但是想一想也觉得蛮有意思的.
</p>

<p>
如果你没有读到这里,可能是因为你觉得这样搞太小题大做了. 嗯,没准你是对的.
</p>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2016-08-01</span>
            <span title="last modification date" class="post-info">2016-08-01</span>
            <span title="tags" class="post-info">:N/A:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; lujun9972-desktop">lujun9972</a></span>
        </div>
    <script src="http://lujun9972.github.io/emacs-document/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
                    <a class="ds-label">使用多说评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2016/08/01/我是怎样使用emacs的/";
         var disqus_url = "http://lujun9972.github.io/emacs-document/blog/2016/08/01/我是怎样使用emacs的/";
         var disqus_shortname = 'emacs-document';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <div class="ds-thread"></div>
        <script type="text/javascript">
         var duoshuoQuery = {short_name:'emacs-document'};
         (function() {
             var ds = document.createElement('script');
             ds.type = 'text/javascript';ds.async = true;
             ds.src = 'http://static.duoshuo.com/embed.js';
             ds.charset = 'UTF-8';
             (document.getElementsByTagName('head')[0]
           || document.getElementsByTagName('body')[0]).appendChild(ds);
             $('.ds-thread').css('display','block');
         })();
        </script>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="http://lujun9972.github.io/emacs-document/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 8.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; lujun9972-desktop">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div></body>
</html>

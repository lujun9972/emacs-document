#+TITLE: åœ¨Emacsä¸­ç¦ç”¨é¼ æ ‡æ“ä½œ
#+URL: http://endlessparentheses.com/disable-mouse-only-inside-emacs.html
#+AUTHOR: lujun9972
#+CATEGORY: emacs-common
#+DATE: [2016-08-08 å‘¨ä¸€ 10:06]
#+OPTIONS: ^:{}

éšç€è§¦æ‘¸æ¿å˜å¾—è¶Šæ¥è¶Šå¤§,æˆ‘ä»¬åœ¨è¾“å…¥æ—¶å°±è¶Šæ¥è¶Šå¯èƒ½ä¸å°å¿ƒæ¥è§¦åˆ°è§¦æ‘¸æ¿. å¤§å¤šæ•°çš„ç³»ç»Ÿéƒ½æœ‰é˜²æŠ¤æªæ–½è®©ä½ åœ¨è¾“å…¥æ—¶æš‚æ—¶å±è”½è§¦æ‘¸æ¿çš„åŠŸèƒ½,ä½†æ˜¯è¿™åœ¨æˆ‘ä½¿ç”¨Emacsæ—¶è¿˜è¿œè¿œä¸å¤Ÿ.
åœ¨ä½¿ç”¨Emacsçš„è¿‡ç¨‹ä¸­,æˆ‘çš„æ‰‹æ˜¯ä¸€ç›´æ”¾åœ¨é”®ç›˜ä¸Šçš„(å½“ç„¶ä¹Ÿä¼šæ”¾åœ¨è§¦æ‘¸æ¿ä¸Š),å› æ­¤å³ä½¿æˆ‘é•¿æ—¶é—´æ²¡æœ‰è¾“å…¥,ä¹Ÿä¸å¸Œæœ›è®©è§¦æ‘¸æ¿é‡æ–°è¢«æ¿€æ´».

é€šè¿‡ä¸€ä¸ªçƒ­é”®å°±å¯ä»¥æ°¸ä¹…æ€§çš„ç¦ç”¨è§¦æ‘¸å±,ä½†æ˜¯æœ€æ»¡è¶³æˆ‘è‡ªå·±ä½¿ç”¨æ–¹å¼çš„è§£å†³æ–¹æ¡ˆæ˜¯ä»…ä»…åœ¨Emacsä¸­ç¦ç”¨è§¦æ‘¸æ¿.

#+BEGIN_SRC emacs-lisp
  (define-minor-mode disable-mouse-mode
    "A minor-mode that disables all mouse keybinds."
    :global t
    :lighter " ğŸ­"
    :keymap (make-sparse-keymap))

  (dolist (type '(mouse down-mouse drag-mouse
                        double-mouse triple-mouse))
    (dolist (prefix '("" C- M- S- M-S- C-M- C-S- C-M-S-))
      ;; Yes, I actually HAD to go up to 7 here.
      (dotimes (n 7)
        (let ((k (format "%s%s-%s" prefix type n)))
          (define-key disable-mouse-mode-map
            (vector (intern k)) #'ignore)))))
#+END_SRC

æˆ‘ä»¬æ‰€åšçš„ä¸è¿‡æ˜¯å®šä¹‰ä¸€ä¸ªminor-mode,åœ¨è¿™ä¸ªminor-modeä¸­å°†æ‰€æœ‰æ¶‰åŠé¼ æ ‡çš„æŒ‰é”®éƒ½ç»‘å®šä¸ºignore. å®ƒåªæ˜¯åŸºäº[[http://stackoverflow.com/questions/4906534/disable-mouse-clicks-in-emacs/4906698#4906698][this StackOverflow answer]]ä¸­çš„ä»£ç åšäº†å°‘è®¸æ”¹è¿›. 
å½“ç„¶è¦é‡æ–°å¯ç”¨è§¦æ‘¸æ¿ä¹Ÿå¾ˆå®¹æ˜“:

#+BEGIN_SRC emacs-lisp
  (disable-mouse-mode 1)
#+END_SRC

ä½†æ˜¯è¿™ç§æ–¹æ¡ˆæœ‰ä¸¤ä¸ªå±€é™æ¡ä»¶:

+ å®ƒæ— æ³•åŒºåˆ†è§¦æ‘¸æ¿ä¸çœŸæ­£çš„é¼ æ ‡æ“ä½œ,ä¸¤è€…éƒ½è¢«ç¦ç”¨äº†.
+ è¿˜æ˜¯æœ‰å¯èƒ½å…¶ä»–çš„modeåˆå®šä¹‰äº†ä¸é¼ æ ‡ç›¸å…³çš„å¿«æ·é”®. ä½†æ˜¯è¿™ä¸ªé—®é¢˜ä¸å¤§,å› ä¸ºè¿™ç§å¿«æ·é”®å¾ˆå°‘è§,å› æ­¤ä¸å°å¿ƒè§¦å‘å®ƒä»¬çš„æ¦‚ç‡ä¹Ÿå¾ˆå°.
    them by accident.

* Update 29 Jun 2016

ä¹Ÿè®¸ä»…ä»…æ˜¯å·§åˆ,ä¼¼ä¹Steve Purcellä¹Ÿå®ç°äº†ç±»ä¼¼çš„ä¸œè¥¿. è€Œä¸”ä»–å·²ç»å°†è¿™ä¸ªminor-modeå°è£…æˆäº†packageæ”¾åˆ°[[https://github.com/purcell/disable-mouse][Melpa package]]ä¸­äº†.
